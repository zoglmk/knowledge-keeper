# AI çŸ¥è¯†ç®¡å®¶ (Knowledge Keeper) - å®æ–½è®¡åˆ’

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**é¡¹ç›®åç§°**: Knowledge Keeper (çŸ¥è¯†ç®¡å®¶)
**é¡¹ç›®æè¿°**: ä¸€ç«™å¼ AI é©±åŠ¨çš„çŸ¥è¯†æ”¶é›†ã€æ•´ç†ã€å­¦ä¹ å¹³å°
**æŠ€æœ¯æ ˆ**: 
- å‰ç«¯: React + TypeScript + Vite
- åç«¯: Python + FastAPI
- æ•°æ®åº“: SQLite (å¼€å‘) / PostgreSQL (ç”Ÿäº§) + ChromaDB (å‘é‡æ•°æ®åº“)
- AI: å¤šæ¨¡å‹æ”¯æŒ (OpenAI, Claude, Gemini, è±†åŒ…, Deepseek)

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. æ™ºèƒ½æ”¶è—æ¨¡å—
- [x] URL é“¾æ¥æ”¶è—
- [x] ç½‘é¡µå†…å®¹è‡ªåŠ¨æŠ“å–
- [x] æ–‡ä»¶ä¸Šä¼  (PDF, Markdown, TXT)
- [x] æ‰‹åŠ¨æ·»åŠ ç¬”è®°

### 2. AI æ™ºèƒ½å¤„ç†
- [x] è‡ªåŠ¨ç”Ÿæˆå†…å®¹æ‘˜è¦
- [x] æ™ºèƒ½æ ‡ç­¾åˆ†ç±»
- [x] å†…å®¹å‘é‡åŒ–å­˜å‚¨

### 3. çŸ¥è¯†é—®ç­” (RAG)
- [x] åŸºäºçŸ¥è¯†åº“çš„ AI å¯¹è¯
- [x] æ¥æºå¼•ç”¨è¿½è¸ª
- [x] å¤šè½®å¯¹è¯æ”¯æŒ

### 4. æœç´¢ä¸å¯è§†åŒ–
- [x] è¯­ä¹‰æœç´¢
- [x] æ ‡ç­¾ç­›é€‰
- [x] ç»Ÿè®¡é¢æ¿
- [x] çŸ¥è¯†æ—¶é—´çº¿

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
ms-demo/
â”œâ”€â”€ frontend/                   # React å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/         # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/              # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ hooks/              # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”œâ”€â”€ services/           # API æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ stores/             # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ styles/             # æ ·å¼æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ types/              # TypeScript ç±»å‹
â”‚   â”‚   â””â”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts
â”‚
â”œâ”€â”€ backend/                    # Python åç«¯
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/                # API è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ bookmarks.py    # æ”¶è—ç›¸å…³æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ chat.py         # å¯¹è¯æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ tags.py         # æ ‡ç­¾æ¥å£
â”‚   â”‚   â”‚   â””â”€â”€ search.py       # æœç´¢æ¥å£
â”‚   â”‚   â”œâ”€â”€ core/               # æ ¸å¿ƒé…ç½®
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ config.py       # é…ç½®ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ database.py     # æ•°æ®åº“è¿æ¥
â”‚   â”‚   â”œâ”€â”€ models/             # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ bookmark.py     # æ”¶è—æ¨¡å‹
â”‚   â”‚   â”‚   â””â”€â”€ tag.py          # æ ‡ç­¾æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ services/           # ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ ai_service.py   # AI æœåŠ¡ (å¤šæ¨¡å‹æ”¯æŒ)
â”‚   â”‚   â”‚   â”œâ”€â”€ scraper.py      # ç½‘é¡µæŠ“å–
â”‚   â”‚   â”‚   â”œâ”€â”€ embedding.py    # å‘é‡åŒ–æœåŠ¡
â”‚   â”‚   â”‚   â””â”€â”€ rag.py          # RAG æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ schemas/            # Pydantic æ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â””â”€â”€ bookmark.py
â”‚   â”‚   â””â”€â”€ main.py             # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â””â”€â”€ .env.example
â”‚
â”œâ”€â”€ .gemini/                    # é¡¹ç›®æ–‡æ¡£
â”‚   â””â”€â”€ IMPLEMENTATION_PLAN.md
â”œâ”€â”€ docker-compose.yml          # Docker é…ç½® (å¯é€‰)
â””â”€â”€ README.md                   # é¡¹ç›®è¯´æ˜
```

---

## ğŸ”§ å¼€å‘é˜¶æ®µ

### Phase 1: åŸºç¡€æ¡†æ¶æ­å»º (Day 1-2)
- [x] åˆå§‹åŒ– React é¡¹ç›® (Vite + TypeScript)
- [x] åˆå§‹åŒ– Python FastAPI é¡¹ç›®
- [x] è®¾ç½®æ•°æ®åº“æ¨¡å‹ (SQLite + SQLAlchemy)
- [x] è®¾ç½® ChromaDB å‘é‡æ•°æ®åº“
- [x] åˆ›å»ºåŸºç¡€ API æ¥å£
- [x] å‰åç«¯è”è°ƒæµ‹è¯•

### Phase 2: æ”¶è—åŠŸèƒ½ (Day 3-4)
- [x] æ”¶è—åˆ—è¡¨é¡µé¢
- [x] æ·»åŠ æ”¶è— (URL/æ–‡æœ¬/æ–‡ä»¶)
- [x] ç½‘é¡µå†…å®¹è‡ªåŠ¨æŠ“å–
- [x] æ”¶è—è¯¦æƒ…é¡µé¢
- [x] ç¼–è¾‘å’Œåˆ é™¤åŠŸèƒ½

### Phase 3: AI æ™ºèƒ½å¤„ç† (Day 5-7)
- [x] å¤šæ¨¡å‹ AI æœåŠ¡å±‚
- [x] è‡ªåŠ¨ç”Ÿæˆæ‘˜è¦
- [x] æ™ºèƒ½æ ‡ç­¾ç”Ÿæˆ
- [x] å†…å®¹å‘é‡åŒ–å­˜å‚¨
- [x] æ ‡ç­¾ç®¡ç†åŠŸèƒ½

### Phase 4: çŸ¥è¯†é—®ç­” RAG (Day 8-10)
- [x] å‘é‡æ£€ç´¢å®ç°
- [x] RAG å¯¹è¯æœåŠ¡
- [x] èŠå¤©ç•Œé¢
- [x] æ¥æºå¼•ç”¨æ˜¾ç¤º
- [x] å¯¹è¯å†å²ç®¡ç†

### Phase 5: æœç´¢ä¸å¯è§†åŒ– (Day 11-13)
- [x] è¯­ä¹‰æœç´¢åŠŸèƒ½
- [x] æ ‡ç­¾ç­›é€‰
- [x] ç»Ÿè®¡é¢æ¿
- [x] æ—¶é—´çº¿è§†å›¾
- [x] å“åº”å¼å¸ƒå±€ä¼˜åŒ–

### Phase 6: ä¼˜åŒ–ä¸éƒ¨ç½² (Day 14-15)
- [x] UI/UX ä¼˜åŒ–
- [x] æ€§èƒ½ä¼˜åŒ–
- [x] é”™è¯¯å¤„ç†
- [x] éƒ¨ç½²æ–‡æ¡£

---

## ğŸ¤– AI æ¨¡å‹é…ç½®

æ”¯æŒçš„æ¨¡å‹åŠå…¶é…ç½®:

```python
AI_MODELS = {
    "openai": {
        "base_url": "https://api.openai.com/v1",
        "models": ["gpt-4", "gpt-3.5-turbo"]
    },
    "claude": {
        "base_url": "https://api.anthropic.com",
        "models": ["claude-3-opus", "claude-3-sonnet"]
    },
    "gemini": {
        "base_url": "https://generativelanguage.googleapis.com",
        "models": ["gemini-pro"]
    },
    "doubao": {  # è±†åŒ…
        "base_url": "https://ark.cn-beijing.volces.com/api/v3",
        "models": ["doubao-pro-4k", "doubao-lite-4k"]
    },
    "deepseek": {
        "base_url": "https://api.deepseek.com/v1",
        "models": ["deepseek-chat", "deepseek-coder"]
    }
}
```

---

## ğŸ“Š æ•°æ®åº“æ¨¡å‹

### Bookmark (æ”¶è—)
| å­—æ®µ | ç±»å‹ | æè¿° |
|------|------|------|
| id | UUID | ä¸»é”® |
| title | String | æ ‡é¢˜ |
| url | String | åŸå§‹é“¾æ¥ (å¯é€‰) |
| content | Text | åŸå§‹å†…å®¹ |
| summary | Text | AI ç”Ÿæˆçš„æ‘˜è¦ |
| type | Enum | ç±»å‹ (url/note/file) |
| created_at | DateTime | åˆ›å»ºæ—¶é—´ |
| updated_at | DateTime | æ›´æ–°æ—¶é—´ |

### Tag (æ ‡ç­¾)
| å­—æ®µ | ç±»å‹ | æè¿° |
|------|------|------|
| id | UUID | ä¸»é”® |
| name | String | æ ‡ç­¾å |
| color | String | æ ‡ç­¾é¢œè‰² |
| is_auto | Boolean | æ˜¯å¦ AI è‡ªåŠ¨ç”Ÿæˆ |

### BookmarkTag (å…³è”è¡¨)
| å­—æ®µ | ç±»å‹ | æè¿° |
|------|------|------|
| bookmark_id | UUID | æ”¶è— ID |
| tag_id | UUID | æ ‡ç­¾ ID |

### Conversation (å¯¹è¯)
| å­—æ®µ | ç±»å‹ | æè¿° |
|------|------|------|
| id | UUID | ä¸»é”® |
| title | String | å¯¹è¯æ ‡é¢˜ |
| created_at | DateTime | åˆ›å»ºæ—¶é—´ |

### Message (æ¶ˆæ¯)
| å­—æ®µ | ç±»å‹ | æè¿° |
|------|------|------|
| id | UUID | ä¸»é”® |
| conversation_id | UUID | å¯¹è¯ ID |
| role | Enum | è§’è‰² (user/assistant) |
| content | Text | æ¶ˆæ¯å†…å®¹ |
| sources | JSON | å¼•ç”¨æ¥æº |
| created_at | DateTime | åˆ›å»ºæ—¶é—´ |

---

## ğŸ¨ UI è®¾è®¡åŸåˆ™

1. **ç°ä»£æ„Ÿ**: æ·±è‰²ä¸»é¢˜ + æ¯›ç»ç’ƒæ•ˆæœ
2. **ç®€æ´**: ä¿¡æ¯å±‚çº§æ¸…æ™°ï¼Œé¿å…è§†è§‰å™ªéŸ³
3. **å“åº”å¼**: é€‚é…æ¡Œé¢å’Œç§»åŠ¨ç«¯
4. **åŠ¨æ•ˆ**: å¾®åŠ¨ç”»å¢å¼ºç”¨æˆ·ä½“éªŒ
5. **å¯è®¿é—®æ€§**: ç¬¦åˆ WCAG æ ‡å‡†

---

## ğŸš€ å¯åŠ¨å¼€å‘

æ¥ä¸‹æ¥æŒ‰é¡ºåºæ‰§è¡Œ:
1. åˆ›å»ºåç«¯é¡¹ç›®ç»“æ„
2. åˆ›å»ºå‰ç«¯é¡¹ç›®ç»“æ„
3. å®ç°æ ¸å¿ƒåŠŸèƒ½
4. è”è°ƒæµ‹è¯•
5. ä¼˜åŒ–éƒ¨ç½²

---

*æœ€åæ›´æ–°: 2026-01-20*
